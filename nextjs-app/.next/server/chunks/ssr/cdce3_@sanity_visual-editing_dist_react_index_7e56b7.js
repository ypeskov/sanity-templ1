module.exports = {

"[project]/node_modules/next-sanity/node_modules/@sanity/visual-editing/dist/react/index.js [app-ssr] (ecmascript) <locals>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: require } = __turbopack_context__;
{
__turbopack_esm__({
    "VisualEditing": (()=>Mt)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$mutations$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/next-sanity/node_modules/@sanity/visual-editing/dist/_chunks-es/mutations.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$mutate$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/next-sanity/node_modules/@sanity/mutate/dist/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$SharedStateContext$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/next-sanity/node_modules/@sanity/visual-editing/dist/_chunks-es/SharedStateContext.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/next-sanity/node_modules/@sanity/visual-editing/dist/_chunks-es/PointerEvents.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$transformSanityNodeData$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/next-sanity/node_modules/@sanity/visual-editing/dist/_chunks-es/transformSanityNodeData.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$create$2d$data$2d$attribute$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/next-sanity/node_modules/@sanity/visual-editing/dist/_chunks-es/create-data-attribute.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sanity$2f$comlink$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@sanity/comlink/dist/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/rxjs/dist/cjs/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$xstate$2f$actors$2f$dist$2f$xstate$2d$actors$2e$development$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/xstate/actors/dist/xstate-actors.development.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$mutate$2f$dist$2f$_unstable_machine$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/next-sanity/node_modules/@sanity/mutate/dist/_unstable_machine.js [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$xstate$2f$dist$2f$raise$2d$1db27a82$2e$development$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__A__as__createActor$3e$__ = __turbopack_import__("[project]/node_modules/xstate/dist/raise-1db27a82.development.esm.js [app-ssr] (ecmascript) <export A as createActor>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sanity$2f$client$2f$dist$2f$_chunks$2d$es$2f$resolveEditInfo$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@sanity/client/dist/_chunks-es/resolveEditInfo.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$scroll$2d$into$2d$view$2d$if$2d$needed$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/scroll-into-view-if-needed/dist/index.js [app-ssr] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
const Re = (e)=>{
    const { comlink: t, history: n } = e;
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>t?.on("presentation/navigate", (e)=>{
            n?.update(e);
        }), [
        t,
        n
    ]), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (n) return n.subscribe((e)=>{
            e.title = e.title || document.title, t?.post({
                type: "visual-editing/navigate",
                data: e
            });
        });
    }, [
        t,
        n
    ]), null;
}, Ae = (e)=>{
    const { comlink: t } = e;
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        const e = ()=>{
            t.post({
                type: "visual-editing/meta",
                data: {
                    title: document.title
                }
            });
        }, n = new MutationObserver(([t])=>{
            "TITLE" === t.target.nodeName && e();
        });
        return n.observe(document.head, {
            subtree: !0,
            characterData: !0,
            childList: !0
        }), e(), ()=>n.disconnect();
    }, [
        t
    ]), null;
};
const je = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createContext"])(null);
function Ce() {
    const e = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useContext"])(je);
    if (!e) throw new Error("Schema context is missing");
    return e;
}
function Fe(e, t) {
    if (!e.type) throw new Error("Node type is missing");
    return ()=>t.patch(({ snapshot: t })=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$mutations$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["h"])(e, t));
}
function Le(e, t, n, r) {
    if (!e.type) throw new Error("Node type is missing");
    return ()=>t.patch(()=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$mutations$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["c"])(e, n, r));
}
function Ne(e, t) {
    if (!e.type) throw new Error("Node type is missing");
    return ()=>t.patch(({ snapshot: t })=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$mutations$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["j"])(e, t));
}
function We(t) {
    const { node: n, field: r, parent: i, doc: o } = t;
    return "arrayItem" === r?.type ? function(e) {
        const { node: t, field: n, doc: r } = e, i = [];
        return i.push(...Ge(e)), i.push(...Ue(e)), i.push(...Oe(e)), i.push({
            type: "action",
            label: "Insert before",
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["a"],
            action: Le(t, r, n.name, "before")
        }), i.push({
            type: "action",
            label: "Insert after",
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["b"],
            action: Le(t, r, n.name, "after")
        }), i;
    }({
        node: n,
        field: r,
        doc: o
    }) : "union" === i?.type ? function(t) {
        const { doc: n, node: r, parent: i } = t, o = [];
        if (o.push(...Ge(t)), o.push(...Ue(t)), o.push(...Oe(t)), i.options?.insertMenu) {
            const t = (i.options.insertMenu || {}).views?.some((e)=>"grid" === e.name) ? 0 : void 0;
            o.push({
                type: "custom",
                component: ({ boundaryElement: o })=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(Be, {
                        label: "Insert before",
                        onSelect: (e)=>{
                            Le(r, n, e.name, "before")();
                        },
                        parent: i,
                        width: t,
                        boundaryElement: o
                    })
            }), o.push({
                type: "custom",
                component: ({ boundaryElement: o })=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(Be, {
                        label: "Insert after",
                        onSelect: (e)=>{
                            Le(r, n, e.name, "after")();
                        },
                        parent: i,
                        width: t,
                        boundaryElement: o
                    })
            });
        } else o.push({
            type: "group",
            label: "Insert before",
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["a"],
            items: i.of.filter((e)=>"unionOption" === e.type).map((e)=>({
                    type: "action",
                    icon: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["g"])(e),
                    label: "block" === e.name ? "Paragraph" : e.title || e.name,
                    action: Le(r, n, e.name, "before")
                }))
        }), o.push({
            type: "group",
            label: "Insert after",
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["b"],
            items: i.of.filter((e)=>"unionOption" === e.type).map((e)=>({
                    type: "action",
                    label: "block" === e.name ? "Paragraph" : e.title || e.name,
                    icon: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["g"])(e),
                    action: Le(r, n, e.name, "after")
                }))
        });
        return o;
    }({
        node: n,
        parent: i,
        doc: o
    }) : [];
}
function Ge(e) {
    const { node: t, doc: n } = e;
    return n ? [
        {
            type: "action",
            label: "Duplicate",
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["C"],
            action: Ne(t, n)
        }
    ] : [];
}
function Ue(e) {
    const { node: t, doc: n } = e;
    return n ? [
        {
            type: "action",
            label: "Remove",
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["R"],
            action: Fe(t, n)
        }
    ] : [];
}
function Oe(e, t = !0) {
    const { node: n, doc: r } = e;
    if (!r) return [];
    const i = [], o = [], a = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$mutations$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["f"])(n, r, "previous"), s = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$mutations$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["f"])(n, r, "next"), c = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$mutations$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["f"])(n, r, "first"), d = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$mutations$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["f"])(n, r, "last");
    return c.length && o.push({
        type: "action",
        label: "To top",
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["e"],
        action: ()=>r.patch(c)
    }), a.length && o.push({
        type: "action",
        label: "Up",
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["f"],
        action: ()=>r.patch(a)
    }), s.length && o.push({
        type: "action",
        label: "Down",
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["h"],
        action: ()=>r.patch(s)
    }), d.length && o.push({
        type: "action",
        label: "To bottom",
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["U"],
        action: ()=>r.patch(d)
    }), o.length && (i.push({
        type: "group",
        label: "Move",
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["S"],
        items: o
    }), t && i.push({
        type: "divider"
    })), i;
}
const Be = (t)=>{
    const { label: n, parent: r, width: i, onSelect: o, boundaryElement: a } = t;
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["M"], {
        fontSize: 1,
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["b"],
        padding: 2,
        popover: {
            arrow: !1,
            constrainSize: !0,
            floatingBoundary: a,
            padding: 0,
            placement: "right-start",
            fallbackPlacements: [
                "left-start",
                "right",
                "left",
                "right-end",
                "left-end",
                "bottom",
                "top"
            ],
            preventOverflow: !0,
            width: i,
            __unstable_margins: [
                4,
                4,
                4,
                4
            ]
        },
        space: 2,
        text: n,
        children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["c"], {
            node: r,
            onSelect: o
        })
    });
};
const qe = [
    -4,
    4,
    -4,
    4
];
function Ve(t) {
    const { node: n, onDismiss: r, boundaryElement: i } = t, o = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(()=>{
        "action" === n.type && (n.action?.(), r?.());
    }, [
        n,
        r
    ]);
    if ("divider" === n.type) return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["n"], {});
    if ("action" === n.type) return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["o"], {
        fontSize: 1,
        hotkeys: n.hotkeys,
        icon: n.icon,
        padding: 2,
        space: 2,
        text: n.label,
        disabled: !n.action,
        onClick: o
    });
    if ("group" === n.type) return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["M"], {
        fontSize: 1,
        icon: n.icon,
        padding: 2,
        popover: {
            arrow: !1,
            constrainSize: !0,
            placement: "right-start",
            fallbackPlacements: [
                "left-start",
                "right",
                "left",
                "right-end",
                "left-end",
                "bottom",
                "top"
            ],
            preventOverflow: !0,
            __unstable_margins: qe
        },
        space: 2,
        text: n.label,
        children: n.items.map((t, n)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(Ve, {
                node: t,
                onDismiss: r,
                boundaryElement: i
            }, n))
    });
    if ("custom" === n.type) {
        const { component: t } = n;
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(t, {
            boundaryElement: i
        });
    }
    return null;
}
const Ke = (n)=>{
    const { node: r, onDismiss: i, position: { x: o, y: a } } = n, [s, c] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null), { getField: d } = Ce(), { getDocument: l } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$mutations$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["a"])(), { field: p, parent: u } = d(r), m = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>p?.title || p?.name || "Unknown type", [
        p
    ]), g = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["g"])(p), [
        p
    ]), y = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>{
        const e = l(r.id);
        return e ? We({
            node: r,
            field: p,
            parent: u,
            doc: e
        }) : [];
    }, [
        p,
        r,
        u,
        l
    ]), v = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>({
            getBoundingClientRect: ()=>({
                    bottom: a,
                    left: o,
                    right: o,
                    top: a,
                    width: 0,
                    height: 0
                })
        }), [
        o,
        a
    ]);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["i"], {
        setBoundaryElement: c,
        onDismiss: i,
        children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["j"], {
            __unstable_margins: qe,
            arrow: !1,
            open: !0,
            placement: "right-start",
            referenceElement: v,
            content: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxs"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["k"], {
                style: {
                    minWidth: 120,
                    maxWidth: 160
                },
                children: [
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxs"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["F"], {
                        gap: 2,
                        padding: 2,
                        children: [
                            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["l"], {
                                flex: "none",
                                children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["T"], {
                                    size: 1,
                                    children: g
                                })
                            }),
                            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["m"], {
                                flex: 1,
                                space: 2,
                                children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["T"], {
                                    size: 1,
                                    weight: "semibold",
                                    children: m
                                })
                            })
                        ]
                    }),
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["n"], {}),
                    y.map((t, n)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(Ve, {
                            node: t,
                            onDismiss: i,
                            boundaryElement: s
                        }, n))
                ]
            }),
            children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])("div", {
                style: {
                    position: "absolute",
                    left: o,
                    top: a
                }
            }, `${o}-${a}`)
        })
    });
}, Ye = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createContext"])(null);
const He = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["d"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["p"])`
  background-color: var(--overlay-bg);
  border-radius: 3px;
  pointer-events: none;
  position: absolute;
  will-change: transform;
  box-shadow: var(--overlay-box-shadow);
  transition: none;

  --overlay-bg: transparent;
  --overlay-box-shadow: inset 0 0 0 1px transparent;

  [data-overlays] & {
    --overlay-bg: color-mix(in srgb, transparent 95%, var(--card-focus-ring-color));
    --overlay-box-shadow: inset 0 0 0 2px
      color-mix(in srgb, transparent 50%, var(--card-focus-ring-color));
  }

  [data-fading-out] & {
    transition:
      box-shadow 1550ms,
      background-color 1550ms;

    --overlay-bg: rgba(0, 0, 255, 0);
    --overlay-box-shadow: inset 0 0 0 1px transparent;
  }

  &[data-focused] {
    --overlay-box-shadow: inset 0 0 0 1px var(--card-focus-ring-color);
  }

  &[data-hovered]:not([data-focused]) {
    transition: none;
    --overlay-box-shadow: inset 0 0 0 2px var(--card-focus-ring-color);
  }

  /* [data-unmounted] & {
    --overlay-box-shadow: inset 0 0 0 1px var(--card-focus-ring-color);
  } */

  :link {
    text-decoration: none;
  }
`, Xe = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["d"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["F"])`
  bottom: 100%;
  cursor: pointer;
  pointer-events: none;
  position: absolute;
  right: 0;

  [data-hovered] & {
    pointer-events: all;
  }
`, Ze = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["d"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["p"])`
  background-color: var(--card-focus-ring-color);
  right: 0;
  border-radius: 3px;

  & [data-ui='Text'] {
    color: #fff;
    white-space: nowrap;
  }
`, Je = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["d"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["F"])`
  bottom: 100%;
  cursor: pointer;
  pointer-events: none;
  position: absolute;
  left: 0;
`, Qe = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["d"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["F"])`
  display: flex;
  align-items: center;
  background-color: var(--card-focus-ring-color);
  right: 0;
  border-radius: 3px;
  & [data-ui='Text'],
  & [data-sanity-icon] {
    color: #fff;
    white-space: nowrap;
  }
`;
const et = (r)=>{
    const { element: i, focused: o, componentResolver: a, node: s, showActions: c, draggable: d } = r, { getField: l, getType: p } = Ce(), h = p(s), { field: m, parent: g } = l(s), y = "path" in s ? function(e) {
        const { id: t, type: n, path: r, baseUrl: i, tool: o, workspace: a } = e;
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sanity$2f$client$2f$dist$2f$_chunks$2d$es$2f$resolveEditInfo$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createEditUrl"])({
            baseUrl: i,
            workspace: a,
            tool: o,
            type: n,
            id: t,
            path: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$transformSanityNodeData$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["p"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sanity$2f$client$2f$dist$2f$_chunks$2d$es$2f$resolveEditInfo$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["studioPath"].fromString(r))
        });
    }(s) : s.href, w = function() {
        const e = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useContext"])(Ye);
        if (!e) throw new Error("Preview Snapshots context is missing");
        return e;
    }(), b = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>{
        if ("path" in s) return w.find((e)=>e._id === s.id)?.title;
    }, [
        s,
        w
    ]), x = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>h?.icon ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])("div", {
            dangerouslySetInnerHTML: {
                __html: h.icon
            }
        }) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["D"], {}), [
        h?.icon
    ]), k = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>{
        if (!("path" in s) || !m || !h) return;
        const e = m.value.type;
        return {
            document: h,
            element: i,
            field: m,
            focused: !!o,
            node: s,
            parent: g,
            type: e
        };
    }, [
        h,
        i,
        m,
        o,
        s,
        g
    ]), E = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>{
        if (!k) return;
        const e = a?.(k);
        return e ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isValidElement"])(e) ? e : (Array.isArray(e) ? e : [
            e
        ]).map((e)=>"object" == typeof e && "component" in e ? e : {
                component: e,
                props: {}
            }) : void 0;
    }, [
        a,
        k
    ]);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxs"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Fragment"], {
        children: [
            c ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(Xe, {
                gap: 1,
                paddingBottom: 1,
                "data-sanity-overlay-element": !0,
                children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(nt, {
                    href: y
                })
            }) : null,
            b && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(Je, {
                gap: 1,
                paddingBottom: 1,
                children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxs"])(Qe, {
                    gap: 2,
                    padding: 2,
                    children: [
                        d && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["l"], {
                            marginRight: 1,
                            children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["T"], {
                                className: "drag-handle",
                                size: 0,
                                children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["q"], {})
                            })
                        }),
                        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["T"], {
                            size: 0,
                            children: x
                        }),
                        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["T"], {
                            size: 1,
                            weight: "medium",
                            children: b
                        })
                    ]
                })
            }),
            Array.isArray(E) ? E.map(({ component: t, props: n }, r)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(t, {
                    PointerEvents: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["P"],
                    ...k,
                    ...n
                }, r)) : E
        ]
    });
}, tt = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["memo"])(function(t) {
    const { focused: n, hovered: r, rect: i, wasMaybeCollapsed: o, enableScrollIntoView: a } = t, s = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null), c = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(!1), l = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>({
            width: `${i.w}px`,
            height: `${i.h}px`,
            transform: `translate(${i.x}px, ${i.y}px)`
        }), [
        i
    ]);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (!c.current && !o && !0 === n && s.current && a) {
            const e = s.current;
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$scroll$2d$into$2d$view$2d$if$2d$needed$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(s.current, {
                behavior: (t)=>{
                    0 !== t.length && e.scrollIntoView({
                        behavior: "smooth",
                        block: "center",
                        inline: "nearest"
                    });
                },
                scrollMode: "if-needed",
                block: "center",
                inline: "nearest"
            });
        }
        c.current = !0 === n;
    }, [
        n,
        o,
        a
    ]), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(He, {
        "data-focused": n ? "" : void 0,
        "data-hovered": r ? "" : void 0,
        ref: s,
        style: l,
        children: r && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(et, {
            ...t
        })
    });
}), nt = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["memo"])(function(t) {
    const n = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useSyncExternalStore"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((e)=>{
        const t = ()=>e();
        return window.addEventListener("popstate", t), ()=>window.removeEventListener("popstate", t);
    }, []), ()=>window.location.href), r = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>{
        try {
            const e = new URL(t.href);
            return e.searchParams.set("preview", n), e.toString();
        } catch  {
            return t.href;
        }
    }, [
        t.href,
        n
    ]);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["l"], {
        as: "a",
        href: r,
        target: "_blank",
        rel: "noopener noreferrer",
        children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(Ze, {
            padding: 2,
            children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["T"], {
                size: 1,
                weight: "medium",
                children: "Open in Studio"
            })
        })
    });
}), rt = ({ dragGroupRect: t })=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])("div", {
        style: {
            position: "absolute",
            top: `${t.y}px`,
            left: `${t.x}px`,
            width: t.w - 1 + "px",
            height: t.h - 1 + "px",
            border: "1px dashed #f0709b",
            pointerEvents: "none"
        }
    });
function it(e, t, n) {
    return e * (1 - n) + t * n;
}
const ot = ({ dragInsertPosition: t })=>{
    if (null === t) return;
    let n = 0, r = 0, i = 0, o = 0;
    const a = .0125;
    if ("horizontal" === (t?.left || t?.right ? "horizontal" : "vertical")) {
        const { left: e, right: s } = t;
        if (i = 6, s && e) {
            const t = e.rect.x + e.rect.w, i = s.rect.x, c = Math.min(s.rect.h, e.rect.h) * a;
            n = it(t, i, .5) - 3, r = e.rect.y + c, o = Math.min(s.rect.h, e.rect.h) - 2 * c;
        } else if (s && !e) {
            const e = s.rect.h * a;
            n = s.rect.x - 3, r = s.rect.y + e, o = s.rect.h - 2 * e;
        } else if (e && !s) {
            const t = e.rect.h * a;
            n = e.rect.x + e.rect.w - 3, r = e.rect.y + t, o = e.rect.h - 2 * t;
        }
    } else {
        const { bottom: e, top: s } = t;
        if (e && s) {
            const t = Math.min(s.rect.x, e.rect.x), c = s.rect.y + s.rect.h, d = e.rect.y, l = Math.min(e.rect.w, s.rect.w) * a;
            o = 6, n = t + l, r = it(c, d, .5) - 3, i = Math.max(e.rect.w, s.rect.w) - 2 * l;
        } else if (e && !s) {
            const t = e.rect.w * a;
            n = e.rect.x + t, r = e.rect.y - 3, i = e.rect.w - 2 * t, o = 6;
        } else if (s && !e) {
            const e = s.rect.w * a;
            n = s.rect.x + e, r = s.rect.y + s.rect.h - 3, i = s.rect.w - 2 * e, o = 6;
        }
    }
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])("div", {
        style: {
            position: "absolute",
            width: `${i}px`,
            height: `${o}px`,
            transform: `translate(${n}px, ${r}px)`,
            background: "#556bfc",
            border: "2px solid white",
            borderRadius: "999px",
            zIndex: "999999"
        }
    });
}, at = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["d"].div`
  --drag-preview-opacity: 0.98;
  --drag-preview-skeleton-stroke: #ffffff;

  @media (prefers-color-scheme: dark) {
    --drag-preview-skeleton-stroke: #383d51;
  }

  position: fixed;
  display: grid;
  transform: ${({ $scaleFactor: e, $width: t, $height: n })=>`translate(calc(var(--drag-preview-x) - ${t / 2}px), calc(var(--drag-preview-y) - ${n / 2}px)) scale(${e})`};
  width: ${({ $width: e })=>`${e}px`};
  height: ${({ $height: e })=>`${e}px`};
  z-index: 9999999;
  opacity: var(--drag-preview-opacity);
  cursor: move;

  .drag-preview-content-wrapper {
    position: relative;
    width: 100%;
    height: 100%;
    container-type: inline-size;
  }

  [data-ui='card'] {
    position: relative;
    width: 100%;
    height: 100%;
  }

  .drag-preview-skeleton {
    position: absolute;
    inset: 0;

    rect {
      stroke: var(--drag-preview-skeleton-stroke);
    }
  }

  .drag-preview-handle {
    position: absolute;
    top: 4cqmin;
    left: 4cqmin;
    width: 6cqmin;
    fill: var(--drag-preview-handle-fill);
  }
`;
const st = ({ skeleton: t })=>{
    const n = Math.min(t.maxWidth, window.innerWidth / 2), r = t.w > n ? n / t.w : 1, i = t.offsetX * r, o = t.offsetY * r, a = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["u"])(), s = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["r"])(), c = s.radius[p = t.w, u = 0, h = 1920, f = 1, m = s.radius.length - 2, ~~function(e, t, n) {
        return e < t ? t : e > n ? n : e;
    }((p - u) * (m - f) / (h - u) + f, f, m)], d = t.childRects.filter((e)=>"IMG" === e.tagName), l = t.childRects.filter((e)=>"IMG" !== e.tagName);
    var p, u, h, f, m;
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(at, {
        $width: t.w,
        $height: t.h,
        $offsetX: i,
        $offsetY: o,
        $scaleFactor: r,
        children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["p"], {
            radius: c,
            shadow: 4,
            overflow: "hidden",
            tone: "transparent",
            scheme: a ? "dark" : "light",
            children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])("div", {
                className: "drag-preview-content-wrapper",
                children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])("svg", {
                    className: "drag-preview-skeleton",
                    viewBox: `0 0 ${t.w} ${t.h}`,
                    children: [
                        ...d,
                        ...l
                    ].map((t, n)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])("rect", {
                            x: t.x,
                            y: t.y,
                            width: t.w,
                            height: t.h,
                            fill: s.color.skeleton.from
                        }, n))
                })
            })
        })
    });
}, ct = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["d"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["p"])`
  position: fixed;
  bottom: 2rem;
  left: 2rem;
`, dt = ()=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(ct, {
        padding: 2,
        shadow: 2,
        radius: 2,
        style: {
            zIndex: "999999"
        },
        children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxs"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["F"], {
            align: "center",
            gap: 2,
            children: [
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["H"], {
                    keys: [
                        "Shift"
                    ]
                }),
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["T"], {
                    size: 1,
                    children: "Zoom Out"
                }),
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["E"], {})
            ]
        })
    }), lt = (e, t)=>{
    const { type: n } = t;
    switch(n){
        case "element/register":
            return e.find((e)=>e.id === t.id) ? e : [
                ...e,
                {
                    id: t.id,
                    activated: !1,
                    element: t.element,
                    focused: !1,
                    hovered: !1,
                    rect: t.rect,
                    sanity: t.sanity,
                    dragDisabled: t.dragDisabled
                }
            ];
        case "element/activate":
            return e.map((e)=>e.id === t.id ? {
                    ...e,
                    activated: !0
                } : e);
        case "element/update":
            return e.map((e)=>e.id === t.id ? {
                    ...e,
                    sanity: t.sanity,
                    rect: t.rect
                } : e);
        case "element/unregister":
            return e.filter((e)=>e.id !== t.id);
        case "element/deactivate":
            return e.map((e)=>e.id === t.id ? {
                    ...e,
                    activated: !1,
                    hovered: !1
                } : e);
        case "element/mouseenter":
            return e.map((e)=>e.id === t.id ? {
                    ...e,
                    rect: t.rect,
                    hovered: !0
                } : {
                    ...e,
                    hovered: !1
                });
        case "element/mouseleave":
            return e.map((e)=>e.id === t.id ? {
                    ...e,
                    hovered: !1
                } : e);
        case "element/updateRect":
            return e.map((e)=>e.id === t.id ? {
                    ...e,
                    rect: t.rect
                } : e);
        case "element/click":
            return e.map((e)=>({
                    ...e,
                    focused: e.id === t.id && "clicked"
                }));
        case "overlay/blur":
        case "presentation/blur":
            return e.map((e)=>({
                    ...e,
                    focused: !1
                }));
        case "presentation/focus":
            {
                const n = e.find((e)=>"clicked" === e.focused);
                return e.map((e)=>{
                    const r = "path" in e.sanity && e.sanity.id === t.data.id && e.sanity.path === t.data.path;
                    return n && e === n && r ? e : {
                        ...e,
                        focused: r && n ? "duplicate" : r
                    };
                });
            }
        default:
            return e;
    }
};
function pt(e, t) {
    const { type: n } = t;
    let { contextMenu: r, focusPath: i, perspective: o, isDragging: a, dragInsertPosition: s, dragShowMinimap: c, dragShowMinimapPrompt: d, dragSkeleton: l, dragMinimapTransition: p, dragGroupRect: u } = e, h = !1;
    if ("presentation/focus" === n) {
        const n = e.focusPath;
        i = t.data.path, n !== i && (h = n.slice(i.length).startsWith("["));
    }
    return "presentation/perspective" === n && (o = t.data.perspective), "element/contextmenu" === n && (r = "sanity" in t ? {
        node: t.sanity,
        position: t.position
    } : null), ("element/click" === n || "element/mouseleave" === n || "overlay/blur" === n || "presentation/blur" === n || "presentation/focus" === n) && (r = null), "overlay/dragUpdateInsertPosition" === n && (s = t.insertPosition), "overlay/dragStart" === n && (a = !0), "overlay/dragUpdateSkeleton" === t.type && (l = t.skeleton), "overlay/dragEnd" === n && (a = !1), "overlay/dragToggleMinimapPrompt" === t.type && (d = t.display), "overlay/dragStartMinimapTransition" === n && (p = !0), "overlay/dragEndMinimapTransition" === n && (p = !1), "overlay/dragUpdateGroupRect" === n && (u = t.groupRect), "overlay/dragToggleMinimap" === n && (c = t.display), {
        ...e,
        contextMenu: r,
        elements: lt(e.elements, t),
        dragInsertPosition: s,
        dragSkeleton: l,
        dragGroupRect: u,
        isDragging: a,
        focusPath: i,
        perspective: o,
        wasMaybeCollapsed: h,
        dragShowMinimap: c,
        dragShowMinimapPrompt: d,
        dragMinimapTransition: p
    };
}
const ut = function(t) {
    const { comlink: n, children: r } = t, [i, o] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])([]);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>n?.on("presentation/preview-snapshots", (e)=>{
            o(e.snapshots);
        }), [
        n
    ]);
    const a = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>i, [
        i
    ]);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(Ye.Provider, {
        value: a,
        children: r
    });
};
function ht(e) {
    return "path" in e;
}
function ft(e) {
    return "document" === e.type;
}
function mt(e) {
    return "type" === e.type;
}
const gt = function(t) {
    const { comlink: n, children: r, elements: i } = t, [o, a] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(new Map), [s, c] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null), p = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(async (e)=>{
        if (n) try {
            const t = await n.fetch({
                type: "visual-editing/schema",
                data: void 0
            }, {
                signal: e,
                suppressWarnings: !0
            });
            c(t.schema);
        } catch  {}
    }, [
        n
    ]);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        const e = new AbortController;
        return p(e.signal), ()=>e.abort();
    }, [
        p
    ]);
    const u = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(async (e, t)=>{
        if (e.length && n) try {
            const r = await n.fetch({
                type: "visual-editing/schema-union-types",
                data: {
                    paths: e
                }
            }, {
                signal: t,
                suppressWarnings: !0
            });
            a(r.types), m.current = e;
        } catch  {}
    }, [
        n
    ]), m = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])([]);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        const e = new AbortController, t = function(e) {
            return e.reduce((e, t)=>{
                const { sanity: n } = t;
                if (!("id" in n) || !n.path.includes("[_key==")) return e;
                const r = function(e) {
                    return e.split(".").toReversed().reduce((e, t)=>e.length ? [
                            t,
                            ...e
                        ] : t.includes("[_key==") ? [
                            t
                        ] : [], []).join(".");
                }(n.path);
                return e.find((e)=>e.id === n.id && e.path === r) || e.push({
                    id: n.id,
                    path: r
                }), e;
            }, []);
        }(i);
        return t.some((e)=>!m.current.find(({ id: t, path: n })=>t === e.id && n === e.path)) && u(t, e.signal), ()=>e.abort();
    }, [
        i,
        u
    ]);
    const y = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((e, t = "document")=>{
        if (!s || "string" != typeof e && (!ht(e) || !Array.isArray(s))) return;
        const n = "string" == typeof e ? e : e.type, r = "document" === t ? ft : mt;
        return s.filter(r).find((e)=>e.name === n);
    }, [
        s
    ]), v = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((e)=>{
        if (!ht(e)) return {
            field: void 0,
            parent: void 0
        };
        const t = y(e);
        if (!t) return {
            field: void 0,
            parent: void 0
        };
        const n = e.path.split(".").flatMap((e)=>e.includes("[") ? e.split(/(\[.+\])/, 2) : [
                e
            ]);
        try {
            return function t(n, r, i, a = []) {
                if (!n) return {
                    field: void 0,
                    parent: void 0
                };
                const [s, ...c] = r;
                if ("fields" in n) {
                    const e = n.fields[s];
                    if (!e && "rest" in n) return t(n.rest, r, n, a);
                    if (!c.length) return {
                        field: e,
                        parent: i
                    };
                    if (!e) throw new Error(`[@sanity/visual-editing] No field could be resolved at path: "${[
                        ...a,
                        ...r
                    ].join(".")}"`);
                    return t(e.value, c, n, [
                        ...a,
                        s
                    ]);
                }
                if ("array" === n.type) return t(n.of, r, n, a);
                if ("arrayItem" === n.type) return c.length ? t(n.value, c, n, [
                    ...a,
                    s
                ]) : {
                    field: n,
                    parent: i
                };
                if ("union" === n.type) {
                    const r = s.startsWith("[_key==") ? o?.get(e.id)?.get([
                        a.join("."),
                        s
                    ].filter(Boolean).join("")) : s;
                    return t(n.of.find((e)=>"unionOption" === e.type ? e.name === r : e), c, n, [
                        ...a,
                        s
                    ]);
                }
                if ("unionOption" === n.type) return s ? t(n.value, r, n, a) : {
                    field: n,
                    parent: i
                };
                if ("inline" === n.type) return t(y(n.name, "type").value, r, n, a);
                throw new Error(`[@sanity/visual-editing] No field could be resolved at path: "${[
                    ...a,
                    ...r
                ].join(".")}"`);
            }(t, n, void 0);
        } catch (e) {
            return e instanceof Error && console.warn(e.message), {
                field: void 0,
                parent: void 0
            };
        }
    }, [
        y,
        o
    ]), w = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>({
            getField: v,
            getType: y,
            resolvedTypes: o,
            schema: s || []
        }), [
        v,
        y,
        o,
        s
    ]);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(je.Provider, {
        value: w,
        children: r
    });
}, yt = ((e)=>{
    let t = e;
    const n = new Set;
    return {
        getState: ()=>t,
        setState: (e)=>{
            t = e(t), n.forEach((e)=>e());
        },
        subscribe: (e)=>(n.add(e), ()=>n.delete(e))
    };
})({}), vt = (t)=>{
    const { comlink: n, children: r } = t;
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>n?.on("presentation/shared-state", (e)=>{
            "value" in e ? yt.setState((t)=>({
                    ...t,
                    [e.key]: e.value
                })) : yt.setState((t)=>{
                const { [e.key]: n, ...r } = t;
                return r;
            });
        }), [
        n
    ]), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        (async ()=>{
            try {
                const e = await n?.fetch({
                    type: "visual-editing/shared-state",
                    data: void 0
                }, {
                    suppressWarnings: !0
                });
                e && yt.setState(()=>e.state);
            } catch  {
                console.warn("[@sanity/visual-editing]: Failed to fetch shared state. Check your version of `@sanity/presentation` is up-to-date");
            }
        })();
    }, [
        n
    ]);
    const i = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>({
            comlink: n,
            store: yt
        }), [
        n
    ]);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$SharedStateContext$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["S"].Provider, {
        value: i,
        children: r
    });
};
const wt = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["d"].div`
  background-color: transparent;
  direction: ltr;
  inset: 0;
  pointer-events: none;
  position: absolute;
  width: 100%;
  height: 100%;
  z-index: ${({ $zIndex: e })=>e ?? "9999999"};
`;
function bt(e) {
    let t, n;
    return t = requestAnimationFrame(()=>{
        n = requestAnimationFrame(e);
    }), ()=>{
        void 0 !== t && cancelAnimationFrame(t), void 0 !== n && cancelAnimationFrame(n);
    };
}
const xt = (e)=>{
    const { documentIds: t } = e, [n, r] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])([]);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        r((e)=>{
            const n = Array.from(new Set(t));
            return e.length === n.length && 0 === e.reduce((e, t)=>e.filter((e)=>e !== t), n)?.length ? e : n;
        });
    }, [
        t
    ]);
    const i = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$mutations$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["u"])();
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        for (const e of n)i.send({
            type: "observe",
            documentId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$mutations$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["l"])(e)
        }), i.send({
            type: "observe",
            documentId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$mutations$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["g"])(e)
        });
        return ()=>{
            for (const e of n)i.send({
                type: "unobserve",
                documentId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$mutations$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["l"])(e)
            }), i.send({
                type: "unobserve",
                documentId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$mutations$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["g"])(e)
            });
        };
    }, [
        i,
        n
    ]), null;
}, kt = (e)=>{
    const { comlink: t, dispatch: n, inFrame: r, onDrag: i, overlayEnabled: o, rootElement: a } = e, { dispatchDragEndEvent: s } = function() {
        const { getDocument: e } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$mutations$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["a"])();
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
            const t = (t)=>{
                const { insertPosition: n, target: r, preventInsertDefault: i } = t.detail;
                if (i) return;
                const o = function(e) {
                    if (e) {
                        const { top: t, right: n, bottom: r, left: i } = e;
                        if (i || t) return {
                            node: (i ?? t).sanity,
                            position: "after"
                        };
                        if (n || r) return {
                            node: (n ?? r).sanity,
                            position: "before"
                        };
                    }
                }(n);
                if (o) {
                    const t = e(r.id), { node: n, position: i } = o, { key: a, hasExplicitKey: s } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$mutations$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["b"])(r), { path: c, key: d } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$mutations$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["b"])(n);
                    c && d && d !== a && t.patch(({ snapshot: e })=>{
                        const t = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$mutations$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["e"])(e, r.path);
                        return s ? [
                            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$mutate$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["at"])(c, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$mutate$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["remove"])({
                                _key: a
                            })),
                            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$mutate$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["at"])(c, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$mutate$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["insert"])(t, i, {
                                _key: d
                            }))
                        ] : [
                            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$mutate$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["at"])(c, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$mutate$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["remove"])(~~a)),
                            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$mutate$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["at"])(c, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$mutate$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["insert"])(t, i, d > a ? ~~d - 1 : ~~d))
                        ];
                    });
                }
            };
            return window.addEventListener("sanity/dragEnd", t), ()=>{
                window.removeEventListener("sanity/dragEnd", t);
            };
        }, [
            e
        ]), {
            dispatchDragEndEvent: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((e)=>{
                const t = new CustomEvent("sanity/dragEnd", {
                    detail: e,
                    cancelable: !0
                });
                window.dispatchEvent(t);
            }, [])
        };
    }(), c = function(e, t, n) {
        const r = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(), i = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$mutations$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["k"])();
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
            if (e) return r.current = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$SharedStateContext$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["c"])({
                handler: t,
                overlayElement: e,
                inFrame: n,
                optimisticActorReady: i
            }), ()=>{
                r.current?.destroy(), r.current = void 0;
            };
        }, [
            e,
            t,
            n,
            i
        ]), r;
    }(a, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((e)=>{
        if ("element/click" === e.type) {
            const { sanity: n } = e;
            t?.post({
                type: "visual-editing/focus",
                data: n
            });
        } else if ("overlay/activate" === e.type) t?.post({
            type: "visual-editing/toggle",
            data: {
                enabled: !0
            }
        });
        else if ("overlay/deactivate" === e.type) t?.post({
            type: "visual-editing/toggle",
            data: {
                enabled: !1
            }
        });
        else if ("overlay/dragEnd" === e.type) {
            const { insertPosition: t, target: n, dragGroup: r, flow: i, preventInsertDefault: o } = e;
            s({
                insertPosition: t,
                target: n,
                dragGroup: r,
                flow: i,
                preventInsertDefault: o
            });
        } else {
            if ("overlay/dragUpdateCursorPosition" === e.type) return void i(e.x, e.y);
            if ("overlay/setCursor" === e.type) {
                const { element: t, cursor: n } = e;
                t.style.cursor = n;
            }
        }
        n(e);
    }, [
        t,
        n,
        s,
        i
    ]), r);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        o ? c.current?.activate() : c.current?.deactivate();
    }, [
        c,
        o
    ]), null;
}, Et = (o)=>{
    const { comlink: a, componentResolver: s, inFrame: c, zIndex: p } = o, [u, m] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(), y = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["u"])(), [{ contextMenu: v, dragInsertPosition: b, dragShowMinimap: x, dragShowMinimapPrompt: k, dragSkeleton: E, elements: S, isDragging: M, perspective: I, wasMaybeCollapsed: $, dragMinimapTransition: P, dragGroupRect: D }, _] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useReducer"])(pt, {
        contextMenu: null,
        dragInsertPosition: null,
        dragShowMinimap: !1,
        dragShowMinimapPrompt: !1,
        dragSkeleton: null,
        elements: [],
        focusPath: "",
        isDragging: !1,
        perspective: "published",
        wasMaybeCollapsed: !1,
        dragMinimapTransition: !1,
        dragGroupRect: null
    }), [T, z] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null), [R, A] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(!0);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        const e = [
            a?.on("presentation/focus", (e)=>{
                _({
                    type: "presentation/focus",
                    data: e
                });
            }),
            a?.on("presentation/blur", (e)=>{
                _({
                    type: "presentation/blur",
                    data: e
                });
            }),
            a?.on("presentation/toggle-overlay", ()=>{
                A((e)=>!e);
            }),
            a?.onStatus((e)=>{
                m(e);
            })
        ].filter(Boolean);
        return ()=>e.forEach((e)=>e());
    }, [
        a
    ]), function(e, t) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
            const n = new AbortController;
            e?.fetch({
                type: "visual-editing/fetch-perspective",
                data: void 0
            }, {
                signal: n.signal,
                suppressWarnings: !0
            }).then((e)=>{
                t({
                    type: "presentation/perspective",
                    data: e
                });
            }).catch(()=>{});
            const r = e?.on("presentation/perspective", (e)=>{
                t({
                    type: "presentation/perspective",
                    data: e
                });
            });
            return ()=>{
                r?.(), n.abort();
            };
        }, [
            e,
            t
        ]);
    }(a, _), function(e, t, n) {
        const r = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(void 0), i = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((t, n)=>{
            e?.post({
                type: "visual-editing/documents",
                data: {
                    documents: t,
                    perspective: n
                }
            });
        }, [
            e
        ]);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
            const e = t.map((e)=>{
                const { sanity: t } = e;
                return "id" in t ? {
                    ...t,
                    id: "isDraft" in t ? `${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$transformSanityNodeData$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["D"]}${t.id}` : t.id
                } : null;
            }).filter((e)=>!!e), o = new Set(e.map((e)=>e.id));
            if (!r.current || !function(e, t) {
                if (e === t) return !0;
                if (e.size !== t.size) return !1;
                for (const n of e)if (!t.has(n)) return !1;
                return !0;
            }(o, r.current.nodeIds) || n !== r.current.perspective) {
                const t = Array.from(o).map((t)=>{
                    const n = e.find((e)=>e.id === t), { type: r, projectId: i, dataset: o } = n;
                    return i && o ? {
                        _id: t,
                        _type: r,
                        _projectId: i,
                        _dataset: o
                    } : {
                        _id: t,
                        _type: r
                    };
                });
                r.current = {
                    nodeIds: o,
                    perspective: n
                }, i(t, n);
            }
        }, [
            t,
            n,
            i
        ]);
    }(a, S, I);
    const C = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((e, t)=>{
        T && (T.style.setProperty("--drag-preview-x", `${e}px`), T.style.setProperty("--drag-preview-y", t - window.scrollY + "px"));
    }, [
        T
    ]);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        const e = (e)=>{
            const t = e.target;
            if (((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["w"])(t) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["x"])(t) && t.closest("a")) && e.altKey) {
                e.preventDefault(), e.stopPropagation();
                const t = new MouseEvent(e.type, {
                    ...e,
                    altKey: !1,
                    bubbles: !0,
                    cancelable: !0
                });
                e.target?.dispatchEvent(t);
            }
        }, t = (e)=>{
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$create$2d$data$2d$attribute$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["i"])(e) && A((e)=>!e);
        }, n = (e)=>{
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$create$2d$data$2d$attribute$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["i"])(e) && A((e)=>!e), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$create$2d$data$2d$attribute$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["a"])([
                "mod",
                "\\"
            ], e) && A((e)=>!e);
        };
        return window.addEventListener("click", e), window.addEventListener("keydown", n), window.addEventListener("keyup", t), ()=>{
            window.removeEventListener("click", e), window.removeEventListener("keydown", n), window.removeEventListener("keyup", t);
        };
    }, [
        A
    ]);
    const [F, L] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(!1), [N, W] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(!1), G = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(void 0);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (R) return bt(()=>{
            L(!0), bt(()=>{
                W(!0), G.current = setTimeout(()=>{
                    W(!1), L(!1);
                }, 1500);
            });
        });
        G.current && (clearTimeout(G.current), L(!1), W(!1));
    }, [
        R
    ]);
    const U = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>c && "connected" !== u ? [] : S.filter((e)=>e.activated || e.focused), [
        S,
        c,
        u
    ]), O = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>S.flatMap((e)=>"id" in e.sanity ? [
                e.sanity.id
            ] : []), [
        S
    ]), B = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(()=>{
        _({
            type: "overlay/blur"
        });
    }, []), q = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$mutations$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["k"])(), V = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>q ? s : void 0, [
        s,
        q
    ]);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["s"], {
        scheme: y ? "dark" : "light",
        theme: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["t"],
        tone: "transparent",
        children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["L"], {
            children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$PointerEvents$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["v"], {
                element: T,
                children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(gt, {
                    comlink: a,
                    elements: S,
                    children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(ut, {
                        comlink: a,
                        children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(vt, {
                            comlink: a,
                            children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxs"])(wt, {
                                "data-fading-out": N ? "" : void 0,
                                "data-overlays": F ? "" : void 0,
                                ref: z,
                                $zIndex: p,
                                children: [
                                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(xt, {
                                        documentIds: O,
                                        perspective: I
                                    }),
                                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(kt, {
                                        comlink: a,
                                        dispatch: _,
                                        inFrame: c,
                                        onDrag: C,
                                        overlayEnabled: R,
                                        rootElement: T
                                    }),
                                    v && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(Ke, {
                                        ...v,
                                        onDismiss: B
                                    }),
                                    !M && U.map(({ id: t, element: n, focused: r, hovered: i, rect: o, sanity: a, dragDisabled: s })=>{
                                        const d = !s && !!n.getAttribute("data-sanity") && q && S.some((e)=>"id" in e.sanity && "id" in a && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$SharedStateContext$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["s"])(e.sanity, a) && e.sanity.path !== a.path);
                                        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(tt, {
                                            componentResolver: V,
                                            element: n,
                                            enableScrollIntoView: !M && !P && !x,
                                            focused: r,
                                            hovered: i,
                                            node: a,
                                            rect: o,
                                            showActions: !c,
                                            draggable: d,
                                            isDragging: M || P,
                                            wasMaybeCollapsed: r && $
                                        }, t);
                                    }),
                                    M && !P && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxs"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Fragment"], {
                                        children: [
                                            b && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(ot, {
                                                dragInsertPosition: b
                                            }),
                                            k && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(dt, {}),
                                            D && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(rt, {
                                                dragGroupRect: D
                                            })
                                        ]
                                    }),
                                    M && E && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(st, {
                                        skeleton: E
                                    })
                                ]
                            })
                        })
                    })
                })
            })
        })
    });
}, St = (e)=>{
    const { comlink: t, refresh: n } = e, r = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(0), i = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(0);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>t.on("presentation/refresh", (e)=>{
            if ("manual" === e.source) {
                clearTimeout(r.current);
                const i = n(e);
                if (!1 === i) return;
                t.post({
                    type: "visual-editing/refreshing",
                    data: e
                });
                let o = !1;
                r.current = window.setTimeout(()=>{
                    t.post({
                        type: "visual-editing/refreshed",
                        data: e
                    }), o = !0;
                }, 3e3), i?.finally?.(()=>{
                    o || (clearTimeout(r.current), t.post({
                        type: "visual-editing/refreshed",
                        data: e
                    }));
                });
            } else if ("mutation" === e.source) {
                clearTimeout(i.current);
                const r = n(e);
                if (!1 === r) return;
                t.post({
                    type: "visual-editing/refreshing",
                    data: e
                }), i.current = window.setTimeout(()=>{
                    const r = n(e);
                    !1 !== r && (t.post({
                        type: "visual-editing/refreshing",
                        data: e
                    }), r?.finally?.(()=>{
                        t.post({
                            type: "visual-editing/refreshed",
                            data: e
                        });
                    }) || t.post({
                        type: "visual-editing/refreshed",
                        data: e
                    }));
                }, 1e3), r?.finally?.(()=>{
                    t.post({
                        type: "visual-editing/refreshed",
                        data: e
                    });
                }) || t.post({
                    type: "visual-editing/refreshed",
                    data: e
                });
            }
        }), [
        t,
        n
    ]), null;
}, Mt = (r)=>{
    const { components: i, history: a, refresh: l, zIndex: p } = r, u = window.self !== window.top || window.opener, [f, m] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(void 0);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (!u) return;
        const e = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sanity$2f$comlink$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createNode"])({
            name: "visual-editing",
            connectTo: "presentation"
        }, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sanity$2f$comlink$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createNodeMachine"])().provide({
            actors: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$create$2d$data$2d$attribute$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["b"])()
        }));
        m(e);
        const t = function(e) {
            const t = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ReplaySubject"](1), n = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Subject"];
            return e.fetch({
                type: "visual-editing/snapshot-welcome",
                data: void 0
            }, {
                suppressWarnings: !0
            }).then((e)=>{
                t.next(e.event);
            }).catch(()=>{}), e.on("presentation/snapshot-event", (e)=>{
                "reconnect" === e.event.type && t.next(e.event), "mutation" === e.event.type && n.next(e.event);
            }), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$rxjs$2f$dist$2f$cjs$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["merge"])(t, n);
        }(e), n = ((e)=>{
            const t = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$xstate$2f$actors$2f$dist$2f$xstate$2d$actors$2e$development$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["fromPromise"])(async ({ input: t, signal: n })=>{
                const { id: r } = t, { snapshot: i } = await e.fetch({
                    type: "visual-editing/fetch-snapshot",
                    data: {
                        documentId: r
                    }
                }, {
                    signal: n
                });
                return i;
            }), n = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$xstate$2f$actors$2f$dist$2f$xstate$2d$actors$2e$development$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["fromPromise"])(async ({ input: t })=>{
                const { transactions: n } = t;
                for (const t of n){
                    const n = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$mutate$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SanityEncoder"].encodeTransaction(t);
                    return e.post({
                        type: "visual-editing/mutate",
                        data: n
                    });
                }
            });
            return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$mutations$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["d"].provide({
                actors: {
                    documentMutatorMachine: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$mutate$2f$dist$2f$_unstable_machine$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["documentMutatorMachine"].provide({
                        actors: {
                            "fetch remote snapshot": t,
                            "submit mutations as transactions": n
                        }
                    })
                }
            });
        })(e), r = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$xstate$2f$dist$2f$raise$2d$1db27a82$2e$development$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__A__as__createActor$3e$__["createActor"])(n, {
            input: {
                client: {
                    withConfig: ()=>{}
                },
                sharedListener: t
            }
        }), i = new AbortController;
        return e.fetch({
            type: "visual-editing/features",
            data: void 0
        }, {
            signal: i.signal,
            suppressWarnings: !0
        }).then((e)=>{
            e.features.optimistic && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$sanity$2f$node_modules$2f40$sanity$2f$visual$2d$editing$2f$dist$2f$_chunks$2d$es$2f$mutations$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["s"])(r);
        }).catch(()=>{
            console.warn("[@sanity/visual-editing] Package version mismatch detected: Please update your Sanity studio to prevent potential compatibility issues.");
        }), r.start(), e.start(), ()=>{
            i.abort(), r.stop(), e.stop();
        };
    }, [
        u
    ]), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxs"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Fragment"], {
        children: [
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(Et, {
                comlink: f,
                componentResolver: i,
                inFrame: u,
                zIndex: p
            }),
            f && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxs"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Fragment"], {
                children: [
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(Re, {
                        comlink: f,
                        history: a
                    }),
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(Ae, {
                        comlink: f
                    }),
                    l && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(St, {
                        comlink: f,
                        refresh: l
                    })
                ]
            })
        ]
    });
};
Mt.displayName = "VisualEditing";
;
 //# sourceMappingURL=index.js.map
}}),

};

//# sourceMappingURL=cdce3_%40sanity_visual-editing_dist_react_index_7e56b7.js.map
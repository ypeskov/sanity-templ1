{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/ypeskov/Projects/CMS/Sanity3/nextjs-app/app/components/Date.tsx"],"sourcesContent":["import { format } from \"date-fns\";\n\nexport default function DateComponent({\n  dateString,\n}: {\n  dateString: string | undefined;\n}) {\n  if (!dateString) {\n    return null;\n  }\n\n  return (\n    <time dateTime={dateString}>\n      {format(new Date(dateString), \"LLLL\td, yyyy\")}\n    </time>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;;;AAEe,SAAS,cAAc,EACpC,UAAU,EAGX;IACC,IAAI,CAAC,YAAY;QACf,OAAO;IACT;IAEA,qBACE,8OAAC;QAAK,UAAU;kBACb,CAAA,GAAA,sJAAA,CAAA,SAAM,AAAD,EAAE,IAAI,KAAK,aAAa;;;;;;AAGpC"}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///Users/ypeskov/Projects/CMS/Sanity3/nextjs-app/app/components/Avatar.tsx"],"sourcesContent":["import { Image } from \"next-sanity/image\";\n\nimport { urlForImage } from \"@/sanity/lib/utils\";\nimport DateComponent from \"@/app/components/Date\";\n\ntype Props = {\n  person: {\n    firstName: string | null;\n    lastName: string | null;\n    picture?: any;\n  };\n  date: string;\n};\n\nexport default function Avatar({ person, date }: Props) {\n  const { firstName, lastName, picture } = person;\n\n  return (\n    <div className=\"flex items-center\">\n      {picture?.asset?._ref ? (\n        <div className=\"mr-4 h-9 w-9\">\n          <Image\n            alt={picture?.alt || \"\"}\n            className=\"h-full rounded-full object-cover\"\n            height={48}\n            width={48}\n            src={\n              urlForImage(picture)\n                ?.height(96)\n                .width(96)\n                .fit(\"crop\")\n                .url() as string\n            }\n          />\n        </div>\n      ) : (\n        <div className=\"mr-1\">By </div>\n      )}\n      <div className=\"flex flex-col\">\n        {firstName && lastName && (\n          <div className=\"font-bold\">\n            {firstName} {lastName}\n          </div>\n        )}\n        <div className=\"text-gray-500 text-sm\">\n          <DateComponent dateString={date} />\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;;AAce,SAAS,OAAO,EAAE,MAAM,EAAE,IAAI,EAAS;IACpD,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,OAAO,EAAE,GAAG;IAEzC,qBACE,8OAAC;QAAI,WAAU;;YACZ,SAAS,OAAO,qBACf,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,+IAAA,CAAA,QAAK;oBACJ,KAAK,SAAS,OAAO;oBACrB,WAAU;oBACV,QAAQ;oBACR,OAAO;oBACP,KACE,CAAA,GAAA,sHAAA,CAAA,cAAW,AAAD,EAAE,UACR,OAAO,IACR,MAAM,IACN,IAAI,QACJ;;;;;;;;;;qCAKT,8OAAC;gBAAI,WAAU;0BAAO;;;;;;0BAExB,8OAAC;gBAAI,WAAU;;oBACZ,aAAa,0BACZ,8OAAC;wBAAI,WAAU;;4BACZ;4BAAU;4BAAE;;;;;;;kCAGjB,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,0HAAA,CAAA,UAAa;4BAAC,YAAY;;;;;;;;;;;;;;;;;;;;;;;AAKrC"}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 122, "column": 0}, "map": {"version":3,"sources":["file:///Users/ypeskov/Projects/CMS/Sanity3/nextjs-app/app/components/CoverImage.tsx"],"sourcesContent":["import { stegaClean } from \"@sanity/client/stega\";\nimport { Image } from \"next-sanity/image\";\n\nimport { urlForImage } from \"@/sanity/lib/utils\";\n\ninterface CoverImageProps {\n  image: any;\n  priority?: boolean;\n}\n\nexport default function CoverImage(props: CoverImageProps) {\n  const { image: source, priority } = props;\n  const image = source?.asset?._ref ? (\n    <Image\n      className=\"rounded-2xl shadow-md transition-shadow object-cover\"\n      fill={true}\n      alt={stegaClean(source?.alt) || \"\"}\n      src={\n        urlForImage(source)\n          ?.height(720)\n          .width(1280)\n          .auto(\"format\")\n          .url() as string\n      }\n      sizes=\"100vw\"\n      priority={priority}\n    />\n  ) : (\n    <div className=\"bg-slate-50\" style={{ paddingTop: \"100%\" }} />\n  );\n\n  return <div className=\"relative aspect-video\">{image}</div>;\n}\n"],"names":[],"mappings":";;;;AAGA;AAFA;AADA;;;;;AAUe,SAAS,WAAW,KAAsB;IACvD,MAAM,EAAE,OAAO,MAAM,EAAE,QAAQ,EAAE,GAAG;IACpC,MAAM,QAAQ,QAAQ,OAAO,qBAC3B,8OAAC,+IAAA,CAAA,QAAK;QACJ,WAAU;QACV,MAAM;QACN,KAAK,CAAA,GAAA,yKAAA,CAAA,aAAU,AAAD,EAAE,QAAQ,QAAQ;QAChC,KACE,CAAA,GAAA,sHAAA,CAAA,cAAW,AAAD,EAAE,SACR,OAAO,KACR,MAAM,MACN,KAAK,UACL;QAEL,OAAM;QACN,UAAU;;;;;6BAGZ,8OAAC;QAAI,WAAU;QAAc,OAAO;YAAE,YAAY;QAAO;;;;;;IAG3D,qBAAO,8OAAC;QAAI,WAAU;kBAAyB;;;;;;AACjD"}},
    {"offset": {"line": 165, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 171, "column": 0}, "map": {"version":3,"sources":["file:///Users/ypeskov/Projects/CMS/Sanity3/nextjs-app/app/components/Onboarding.tsx/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const PageOnboarding = registerClientReference(\n    function() { throw new Error(\"Attempted to call PageOnboarding() from the server but PageOnboarding is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/components/Onboarding.tsx <module evaluation>\",\n    \"PageOnboarding\",\n);\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/components/Onboarding.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/components/Onboarding.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA;;AACO,MAAM,iBAAiB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAChD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,+DACA;uCAEW,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAiS,GAC9T,+DACA"}},
    {"offset": {"line": 183, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 189, "column": 0}, "map": {"version":3,"sources":["file:///Users/ypeskov/Projects/CMS/Sanity3/nextjs-app/app/components/Onboarding.tsx/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const PageOnboarding = registerClientReference(\n    function() { throw new Error(\"Attempted to call PageOnboarding() from the server but PageOnboarding is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/components/Onboarding.tsx\",\n    \"PageOnboarding\",\n);\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/components/Onboarding.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/components/Onboarding.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA;;AACO,MAAM,iBAAiB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAChD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,2CACA;uCAEW,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA6Q,GAC1S,2CACA"}},
    {"offset": {"line": 201, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 207, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 211, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 217, "column": 0}, "map": {"version":3,"sources":["file:///Users/ypeskov/Projects/CMS/Sanity3/nextjs-app/app/components/Posts.tsx"],"sourcesContent":["import Link from \"next/link\";\n\nimport { sanityFetch } from \"@/sanity/lib/live\";\nimport { morePostsQuery, allPostsQuery } from \"@/sanity/lib/queries\";\nimport { Post as PostType } from \"@/sanity.types\";\nimport DateComponent from \"@/app/components/Date\";\nimport OnBoarding from \"@/app/components/Onboarding\";\n\ntype PostProps = {\n  post: PostType;\n};\n\nconst Post = ({ post }: PostProps) => {\n  const { _id, title, slug, excerpt, date } = post;\n\n  return (\n    <article\n      key={_id}\n      className=\"flex max-w-xl flex-col items-start justify-between\"\n    >\n      <div className=\"text-gray-500 text-sm\">\n        <DateComponent dateString={date} />\n      </div>\n\n      <h3 className=\"mt-3 text-2xl font-semibold\">\n        <Link\n          className=\"hover:text-red-500 underline transition-colors\"\n          href={`/posts/${slug}`}\n        >\n          {title}\n        </Link>\n      </h3>\n      <p className=\"mt-5 line-clamp-3 text-sm leading-6 text-gray-600\">\n        {excerpt}\n      </p>\n    </article>\n  );\n};\n\ntype PostsProps = {\n  children: React.ReactNode;\n  heading?: string;\n  subHeading?: string;\n};\n\nconst Posts = ({ children, heading, subHeading }: PostsProps) => (\n  <div>\n    {heading && (\n      <h2 className=\"text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl lg:text-5xl\">\n        {heading}\n      </h2>\n    )}\n    {subHeading && (\n      <p className=\"mt-2 text-lg leading-8 text-gray-600\">{subHeading}</p>\n    )}\n    <div className=\"mt-6 pt-6 space-y-12 border-t border-gray-200\">\n      {children}\n    </div>\n  </div>\n);\n\ntype MorePostsProps = {\n  skip: string;\n  limit: number;\n};\n\nexport const MorePosts = async ({ skip, limit }: MorePostsProps) => {\n  const { data } = await sanityFetch({\n    query: morePostsQuery,\n    params: { skip, limit },\n  });\n\n  if (!data || data.length === 0) {\n    return null;\n  }\n\n  return (\n    <Posts heading={`Recent blog posts from Sanity (${data?.length})`}>\n      {data?.map((post: any) => <Post key={post._id} post={post} />)}\n    </Posts>\n  );\n};\n\nexport const AllPosts = async () => {\n  const { data } = await sanityFetch({ query: allPostsQuery });\n\n  if (!data || data.length === 0) {\n    return <OnBoarding />;\n  }\n\n  return (\n    <Posts\n      heading=\"Blog posts from Sanity\"\n      subHeading={`${data.length === 1 ? \"This blog post is\" : `These ${data.length} blog posts are`} populated from your Sanity Studio.`}\n    >\n      {data.map((post: any) => (\n        <Post key={post._id} post={post} />\n      ))}\n    </Posts>\n  );\n};\n"],"names":[],"mappings":";;;;;AAAA;AAEA;AACA;AAEA;AACA;;;;;;;AAMA,MAAM,OAAO,CAAC,EAAE,IAAI,EAAa;IAC/B,MAAM,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG;IAE5C,qBACE,8OAAC;QAEC,WAAU;;0BAEV,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,0HAAA,CAAA,UAAa;oBAAC,YAAY;;;;;;;;;;;0BAG7B,8OAAC;gBAAG,WAAU;0BACZ,cAAA,8OAAC,4HAAA,CAAA,UAAI;oBACH,WAAU;oBACV,MAAM,CAAC,OAAO,EAAE,MAAM;8BAErB;;;;;;;;;;;0BAGL,8OAAC;gBAAE,WAAU;0BACV;;;;;;;OAhBE;;;;;AAoBX;AAQA,MAAM,QAAQ,CAAC,EAAE,QAAQ,EAAE,OAAO,EAAE,UAAU,EAAc,iBAC1D,8OAAC;;YACE,yBACC,8OAAC;gBAAG,WAAU;0BACX;;;;;;YAGJ,4BACC,8OAAC;gBAAE,WAAU;0BAAwC;;;;;;0BAEvD,8OAAC;gBAAI,WAAU;0BACZ;;;;;;;;;;;;AAUA,MAAM,YAAY,OAAO,EAAE,IAAI,EAAE,KAAK,EAAkB;IAC7D,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,CAAA,GAAA,qHAAA,CAAA,cAAW,AAAD,EAAE;QACjC,OAAO,wHAAA,CAAA,iBAAc;QACrB,QAAQ;YAAE;YAAM;QAAM;IACxB;IAEA,IAAI,CAAC,QAAQ,KAAK,MAAM,KAAK,GAAG;QAC9B,OAAO;IACT;IAEA,qBACE,8OAAC;QAAM,SAAS,CAAC,+BAA+B,EAAE,MAAM,OAAO,CAAC,CAAC;kBAC9D,MAAM,IAAI,CAAC,qBAAc,8OAAC;gBAAoB,MAAM;eAAhB,KAAK,GAAG;;;;;;;;;;AAGnD;AAEO,MAAM,WAAW;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,CAAA,GAAA,qHAAA,CAAA,cAAW,AAAD,EAAE;QAAE,OAAO,wHAAA,CAAA,gBAAa;IAAC;IAE1D,IAAI,CAAC,QAAQ,KAAK,MAAM,KAAK,GAAG;QAC9B,qBAAO,8OAAC,gIAAA,CAAA,UAAU;;;;;IACpB;IAEA,qBACE,8OAAC;QACC,SAAQ;QACR,YAAY,GAAG,KAAK,MAAM,KAAK,IAAI,sBAAsB,CAAC,MAAM,EAAE,KAAK,MAAM,CAAC,eAAe,CAAC,CAAC,mCAAmC,CAAC;kBAElI,KAAK,GAAG,CAAC,CAAC,qBACT,8OAAC;gBAAoB,MAAM;eAAhB,KAAK,GAAG;;;;;;;;;;AAI3B"}},
    {"offset": {"line": 368, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 374, "column": 0}, "map": {"version":3,"sources":["file:///Users/ypeskov/Projects/CMS/Sanity3/nextjs-app/app/components/ResolvedLink.tsx"],"sourcesContent":["import Link from \"next/link\";\n\nimport { linkResolver } from \"@/sanity/lib/utils\";\n\ninterface ResolvedLinkProps {\n  link: any;\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport default function ResolvedLink({\n  link,\n  children,\n  className,\n}: ResolvedLinkProps) {\n  // resolveLink() is used to determine the type of link and return the appropriate URL.\n  const resolvedLink = linkResolver(link);\n\n  if (typeof resolvedLink === \"string\") {\n    return (\n      <Link\n        href={resolvedLink}\n        target={link?.openInNewTab ? \"_blank\" : undefined}\n        rel={link?.openInNewTab ? \"noopener noreferrer\" : undefined}\n        className={className}\n      >\n        {children}\n      </Link>\n    );\n  }\n  return <>{children}</>;\n}\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAQe,SAAS,aAAa,EACnC,IAAI,EACJ,QAAQ,EACR,SAAS,EACS;IAClB,sFAAsF;IACtF,MAAM,eAAe,CAAA,GAAA,sHAAA,CAAA,eAAY,AAAD,EAAE;IAElC,IAAI,OAAO,iBAAiB,UAAU;QACpC,qBACE,8OAAC,4HAAA,CAAA,UAAI;YACH,MAAM;YACN,QAAQ,MAAM,eAAe,WAAW;YACxC,KAAK,MAAM,eAAe,wBAAwB;YAClD,WAAW;sBAEV;;;;;;IAGP;IACA,qBAAO;kBAAG;;AACZ"}},
    {"offset": {"line": 403, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 409, "column": 0}, "map": {"version":3,"sources":["file:///Users/ypeskov/Projects/CMS/Sanity3/nextjs-app/app/components/PortableText.tsx"],"sourcesContent":["/**\n * This component uses Portable Text to render a post body.\n *\n * You can learn more about Portable Text on:\n * https://www.sanity.io/docs/block-content\n * https://github.com/portabletext/react-portabletext\n * https://portabletext.org/\n *\n */\n\nimport {\n  PortableText,\n  type PortableTextComponents,\n  type PortableTextBlock,\n} from \"next-sanity\";\n\nimport ResolvedLink from \"@/app/components/ResolvedLink\";\n\nexport default function CustomPortableText({\n  className,\n  value,\n}: {\n  className?: string;\n  value: PortableTextBlock[];\n}) {\n  const components: PortableTextComponents = {\n    block: {\n      h1: ({ children, value }) => (\n        // Add an anchor to the h1\n        <h1 className=\"group relative\">\n          {children}\n          <a\n            href={`#${value?._key}`}\n            className=\"absolute left-0 top-0 bottom-0 -ml-6 flex items-center opacity-0 group-hover:opacity-100 transition-opacity\"\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"h-4 w-4\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\"\n              />\n            </svg>\n          </a>\n        </h1>\n      ),\n      h2: ({ children, value }) => {\n        // Add an anchor to the h2\n        return (\n          <h2 className=\"group relative\">\n            {children}\n            <a\n              href={`#${value?._key}`}\n              className=\"absolute left-0 top-0 bottom-0 -ml-6 flex items-center opacity-0 group-hover:opacity-100 transition-opacity\"\n            >\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"h-4 w-4\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\"\n                />\n              </svg>\n            </a>\n          </h2>\n        );\n      },\n    },\n    marks: {\n      link: ({ children, value: link }) => {\n        return <ResolvedLink link={link}>{children}</ResolvedLink>;\n      },\n    },\n  };\n\n  return (\n    <div className={[\"prose\", className].filter(Boolean).join(\" \")}>\n      <PortableText components={components} value={value} />\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;CAQC;;;;AAQD;AANA;;;;AAQe,SAAS,mBAAmB,EACzC,SAAS,EACT,KAAK,EAIN;IACC,MAAM,aAAqC;QACzC,OAAO;YACL,IAAI,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,GACtB,0BAA0B;8BAC1B,8OAAC;oBAAG,WAAU;;wBACX;sCACD,8OAAC;4BACC,MAAM,CAAC,CAAC,EAAE,OAAO,MAAM;4BACvB,WAAU;sCAEV,cAAA,8OAAC;gCACC,OAAM;gCACN,WAAU;gCACV,MAAK;gCACL,SAAQ;gCACR,QAAO;0CAEP,cAAA,8OAAC;oCACC,eAAc;oCACd,gBAAe;oCACf,aAAa;oCACb,GAAE;;;;;;;;;;;;;;;;;;;;;;YAMZ,IAAI,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE;gBACtB,0BAA0B;gBAC1B,qBACE,8OAAC;oBAAG,WAAU;;wBACX;sCACD,8OAAC;4BACC,MAAM,CAAC,CAAC,EAAE,OAAO,MAAM;4BACvB,WAAU;sCAEV,cAAA,8OAAC;gCACC,OAAM;gCACN,WAAU;gCACV,MAAK;gCACL,SAAQ;gCACR,QAAO;0CAEP,cAAA,8OAAC;oCACC,eAAc;oCACd,gBAAe;oCACf,aAAa;oCACb,GAAE;;;;;;;;;;;;;;;;;;;;;;YAMd;QACF;QACA,OAAO;YACL,MAAM,CAAC,EAAE,QAAQ,EAAE,OAAO,IAAI,EAAE;gBAC9B,qBAAO,8OAAC,kIAAA,CAAA,UAAY;oBAAC,MAAM;8BAAO;;;;;;YACpC;QACF;IACF;IAEA,qBACE,8OAAC;QAAI,WAAW;YAAC;YAAS;SAAU,CAAC,MAAM,CAAC,SAAS,IAAI,CAAC;kBACxD,cAAA,8OAAC,wKAAA,CAAA,eAAY;YAAC,YAAY;YAAY,OAAO;;;;;;;;;;;AAGnD"}},
    {"offset": {"line": 544, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 550, "column": 0}, "map": {"version":3,"sources":["file:///Users/ypeskov/Projects/CMS/Sanity3/nextjs-app/app/posts/%5Bslug%5D/page.tsx"],"sourcesContent":["import type { Metadata, ResolvingMetadata } from \"next\";\nimport { notFound } from \"next/navigation\";\nimport { type PortableTextBlock } from \"next-sanity\";\nimport { Suspense } from \"react\";\n\nimport Avatar from \"@/app/components/Avatar\";\nimport CoverImage from \"@/app/components/CoverImage\";\nimport { MorePosts } from \"@/app/components/Posts\";\nimport PortableText from \"@/app/components/PortableText\";\nimport { sanityFetch } from \"@/sanity/lib/live\";\nimport { postPagesSlugs, postQuery } from \"@/sanity/lib/queries\";\nimport { resolveOpenGraphImage } from \"@/sanity/lib/utils\";\n\ntype Props = {\n  params: Promise<{ slug: string }>;\n};\n\n/**\n * Generate the static params for the page.\n * Learn more: https://nextjs.org/docs/app/api-reference/functions/generate-static-params\n */\nexport async function generateStaticParams() {\n  const { data } = await sanityFetch({\n    query: postPagesSlugs,\n    // Use the published perspective in generateStaticParams\n    perspective: \"published\",\n    stega: false,\n  });\n  return data;\n}\n\n/**\n * Generate metadata for the page.\n * Learn more: https://nextjs.org/docs/app/api-reference/functions/generate-metadata#generatemetadata-function\n */\nexport async function generateMetadata(\n  props: Props,\n  parent: ResolvingMetadata\n): Promise<Metadata> {\n  const params = await props.params;\n  const { data: post } = await sanityFetch({\n    query: postQuery,\n    params,\n    // Metadata should never contain stega\n    stega: false,\n  });\n  const previousImages = (await parent).openGraph?.images || [];\n  const ogImage = resolveOpenGraphImage(post?.coverImage);\n\n  return {\n    authors:\n      post?.author?.firstName && post?.author?.lastName\n        ? [{ name: `${post.author.firstName} ${post.author.lastName}` }]\n        : [],\n    title: post?.title,\n    description: post?.excerpt,\n    openGraph: {\n      images: ogImage ? [ogImage, ...previousImages] : previousImages,\n    },\n  } satisfies Metadata;\n}\n\nexport default async function PostPage(props: Props) {\n  const params = await props.params;\n  const [{ data: post }] = await Promise.all([\n    sanityFetch({ query: postQuery, params }),\n  ]);\n\n  if (!post?._id) {\n    return notFound();\n  }\n\n  return (\n    <>\n      <div className=\"\">\n        <div className=\"container my-12 lg:my-24 grid gap-12\">\n          <div>\n            <div className=\"pb-6 grid gap-6 mb-6 border-b border-gray-100\">\n              <div className=\"max-w-3xl flex flex-col gap-6\">\n                <h2 className=\"text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl lg:text-7xl\">\n                  {post.title}\n                </h2>\n              </div>\n              <div className=\"max-w-3xl flex gap-4 items-center\">\n                {post.author &&\n                  post.author.firstName &&\n                  post.author.lastName && (\n                    <Avatar person={post.author} date={post.date} />\n                  )}\n              </div>\n            </div>\n            <article className=\"gap-6 grid max-w-4xl\">\n              <div className=\"\">\n                <CoverImage image={post.coverImage} priority />\n              </div>\n              {post.content?.length && (\n                <PortableText\n                  className=\"max-w-2xl\"\n                  value={post.content as PortableTextBlock[]}\n                />\n              )}\n            </article>\n          </div>\n        </div>\n      </div>\n      <div className=\"border-t border-gray-100\">\n        <div className=\"container my-12 lg:my-24 grid gap-12\">\n          <aside>\n            <Suspense>\n              <MorePosts skip={post._id} limit={2} />\n            </Suspense>\n          </aside>\n        </div>\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;;;;;;;;;;;AAoBO,eAAe;IACpB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,CAAA,GAAA,qHAAA,CAAA,cAAW,AAAD,EAAE;QACjC,OAAO,wHAAA,CAAA,iBAAc;QACrB,wDAAwD;QACxD,aAAa;QACb,OAAO;IACT;IACA,OAAO;AACT;AAMO,eAAe,iBACpB,KAAY,EACZ,MAAyB;IAEzB,MAAM,SAAS,MAAM,MAAM,MAAM;IACjC,MAAM,EAAE,MAAM,IAAI,EAAE,GAAG,MAAM,CAAA,GAAA,qHAAA,CAAA,cAAW,AAAD,EAAE;QACvC,OAAO,wHAAA,CAAA,YAAS;QAChB;QACA,sCAAsC;QACtC,OAAO;IACT;IACA,MAAM,iBAAiB,CAAC,MAAM,MAAM,EAAE,SAAS,EAAE,UAAU,EAAE;IAC7D,MAAM,UAAU,CAAA,GAAA,sHAAA,CAAA,wBAAqB,AAAD,EAAE,MAAM;IAE5C,OAAO;QACL,SACE,MAAM,QAAQ,aAAa,MAAM,QAAQ,WACrC;YAAC;gBAAE,MAAM,GAAG,KAAK,MAAM,CAAC,SAAS,CAAC,CAAC,EAAE,KAAK,MAAM,CAAC,QAAQ,EAAE;YAAC;SAAE,GAC9D,EAAE;QACR,OAAO,MAAM;QACb,aAAa,MAAM;QACnB,WAAW;YACT,QAAQ,UAAU;gBAAC;mBAAY;aAAe,GAAG;QACnD;IACF;AACF;AAEe,eAAe,SAAS,KAAY;IACjD,MAAM,SAAS,MAAM,MAAM,MAAM;IACjC,MAAM,CAAC,EAAE,MAAM,IAAI,EAAE,CAAC,GAAG,MAAM,QAAQ,GAAG,CAAC;QACzC,CAAA,GAAA,qHAAA,CAAA,cAAW,AAAD,EAAE;YAAE,OAAO,wHAAA,CAAA,YAAS;YAAE;QAAO;KACxC;IAED,IAAI,CAAC,MAAM,KAAK;QACd,OAAO,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD;IAChB;IAEA,qBACE;;0BACE,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;;0CACC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;4CAAG,WAAU;sDACX,KAAK,KAAK;;;;;;;;;;;kDAGf,8OAAC;wCAAI,WAAU;kDACZ,KAAK,MAAM,IACV,KAAK,MAAM,CAAC,SAAS,IACrB,KAAK,MAAM,CAAC,QAAQ,kBAClB,8OAAC,4HAAA,CAAA,UAAM;4CAAC,QAAQ,KAAK,MAAM;4CAAE,MAAM,KAAK,IAAI;;;;;;;;;;;;;;;;;0CAIpD,8OAAC;gCAAQ,WAAU;;kDACjB,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC,gIAAA,CAAA,UAAU;4CAAC,OAAO,KAAK,UAAU;4CAAE,QAAQ;;;;;;;;;;;oCAE7C,KAAK,OAAO,EAAE,wBACb,8OAAC,kIAAA,CAAA,UAAY;wCACX,WAAU;wCACV,OAAO,KAAK,OAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAO/B,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;kCACC,cAAA,8OAAC,qMAAA,CAAA,WAAQ;sCACP,cAAA,8OAAC,2HAAA,CAAA,YAAS;gCAAC,MAAM,KAAK,GAAG;gCAAE,OAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOhD"}},
    {"offset": {"line": 754, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 766, "column": 0}, "map": {"version":3,"sources":["file:///Users/ypeskov/Projects/CMS/Sanity3/nextjs-app/app/actions.ts"],"sourcesContent":["\"use server\";\n\nimport { draftMode } from \"next/headers\";\n\nexport async function disableDraftMode() {\n  \"use server\";\n  await Promise.allSettled([\n    (await draftMode()).disable(),\n    // Simulate a delay to show the loading state\n    new Promise((resolve) => setTimeout(resolve, 1000)),\n  ]);\n}\n"],"names":[],"mappings":";;;;;AAEA;;;;;AAEO,eAAe;IAEpB,MAAM,QAAQ,UAAU,CAAC;QACvB,CAAC,MAAM,CAAA,GAAA,+HAAA,CAAA,YAAS,AAAD,GAAG,EAAE,OAAO;QAC3B,6CAA6C;QAC7C,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;KAC9C;AACH;;;IAPsB;;AAAA,+OAAA"}},
    {"offset": {"line": 788, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}